<!DOCTYPE html>
<html lang="fr" x-data="{ darkMode: localStorage.getItem('darkMode') === 'true', sidebarOpen: true, sidebarMobileOpen: false }" x-init="$watch('darkMode', val => localStorage.setItem('darkMode', val))" :class="{ 'dark': darkMode }">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graphiques - Nourriture Solidaire</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script>tailwind.config = { darkMode: 'class', theme: { extend: { colors: { primary: { 50: '#f0fdf4', 100: '#dcfce7', 200: '#bbf7d0', 300: '#86efac', 400: '#4ade80', 500: '#22c55e', 600: '#16a34a', 700: '#15803d', 800: '#166534', 900: '#14532d' } }, fontFamily: { sans: ['Inter', 'sans-serif'] } } } }</script>
</head>
<body class="font-sans bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 antialiased">
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside :class="sidebarOpen ? 'w-64' : 'w-20'" class="hidden lg:flex flex-col fixed left-0 top-0 h-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 z-50">
            <div class="flex items-center h-16 px-4 border-b border-gray-200 dark:border-gray-700"><a href="index.html" class="flex items-center gap-3"><div class="w-10 h-10 bg-primary-500 rounded-xl flex items-center justify-center flex-shrink-0"><span class="material-icons-outlined text-white">eco</span></div><span x-show="sidebarOpen" x-cloak class="font-bold text-lg text-gray-800 dark:text-white whitespace-nowrap">Nourriture Solidaire</span></a></div>
            <nav class="flex-1 overflow-y-auto scrollbar-hide py-4 px-3">
                <ul class="space-y-1">
                    <li><a href="index.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"><span class="material-icons-outlined text-xl">dashboard</span><span x-show="sidebarOpen" x-cloak>Dashboard</span></a></li>
                    <li><a href="form-elements.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"><span class="material-icons-outlined text-xl">edit_note</span><span x-show="sidebarOpen" x-cloak>Formulaires</span></a></li>
                    <li><a href="tables.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"><span class="material-icons-outlined text-xl">table_chart</span><span x-show="sidebarOpen" x-cloak>Tables</span></a></li>
                    <li><a href="charts.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 font-medium"><span class="material-icons-outlined text-xl">bar_chart</span><span x-show="sidebarOpen" x-cloak>Graphiques</span></a></li>
                    <li><a href="ui-elements.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"><span class="material-icons-outlined text-xl">widgets</span><span x-show="sidebarOpen" x-cloak>UI Elements</span></a></li>
                    <li><a href="profile.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"><span class="material-icons-outlined text-xl">person</span><span x-show="sidebarOpen" x-cloak>Profil</span></a></li>
                </ul>
            </nav>
            <div class="p-4 border-t border-gray-200 dark:border-gray-700"><button @click="sidebarOpen = !sidebarOpen" class="w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"><span class="material-icons-outlined text-xl" x-text="sidebarOpen ? 'chevron_left' : 'chevron_right'"></span><span x-show="sidebarOpen" x-cloak class="text-sm">Réduire</span></button></div>
        </aside>

        <!-- Mobile Sidebar -->
        <div x-show="sidebarMobileOpen" x-cloak @click="sidebarMobileOpen = false" class="fixed inset-0 bg-black/50 z-40 lg:hidden"></div>
        <aside x-show="sidebarMobileOpen" x-cloak x-transition class="fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-800 z-50 lg:hidden overflow-y-auto">
            <div class="flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700"><a href="index.html" class="flex items-center gap-3"><div class="w-10 h-10 bg-primary-500 rounded-xl flex items-center justify-center"><span class="material-icons-outlined text-white">eco</span></div><span class="font-bold text-lg">Nourriture Solidaire</span></a><button @click="sidebarMobileOpen = false" class="p-2 rounded-lg hover:bg-gray-100"><span class="material-icons-outlined">close</span></button></div>
        </aside>

        <!-- Main Content -->
        <div :class="sidebarOpen ? 'lg:ml-64' : 'lg:ml-20'" class="flex-1 flex flex-col min-h-screen transition-all duration-300">
            <!-- Header -->
            <header class="sticky top-0 z-30 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
                <div class="flex items-center justify-between h-16 px-4 lg:px-6">
                    <div class="flex items-center gap-4"><button @click="sidebarMobileOpen = true" class="lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700"><span class="material-icons-outlined">menu</span></button></div>
                    <div class="flex items-center gap-2 lg:gap-4"><button @click="darkMode = !darkMode" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700"><span x-show="!darkMode" class="material-icons-outlined">dark_mode</span><span x-show="darkMode" x-cloak class="material-icons-outlined">light_mode</span></button><img src="https://ui-avatars.com/api/?name=Admin+User&background=22c55e&color=fff" alt="Avatar" class="w-9 h-9 rounded-full"></div>
                </div>
            </header>

            <!-- Main Content Area -->
            <main class="flex-1 p-4 lg:p-6">
                <div class="max-w-7xl mx-auto">
                    <div class="flex items-center gap-2 text-sm text-gray-500 mb-6"><a href="index.html" class="hover:text-primary-600">Dashboard</a><span class="material-icons-outlined text-sm">chevron_right</span><span class="text-gray-900 dark:text-white">Graphiques</span></div>
                    <div class="mb-6"><h1 class="text-2xl font-bold text-gray-900 dark:text-white">Graphiques</h1><p class="text-gray-500 mt-1">Visualisez vos données avec différents types de graphiques</p></div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Line Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center justify-between mb-6">
                                <div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Graphique Linéaire</h3><p class="text-sm text-gray-500">Évolution des collectes</p></div>
                            </div>
                            <div id="lineChartPage" class="h-80"></div>
                        </div>

                        <!-- Bar Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center justify-between mb-6">
                                <div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Graphique à Barres</h3><p class="text-sm text-gray-500">Comparaison hebdomadaire</p></div>
                            </div>
                            <div id="barChartPage" class="h-80"></div>
                        </div>

                        <!-- Donut Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center justify-between mb-6">
                                <div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Graphique Donut</h3><p class="text-sm text-gray-500">Répartition par catégorie</p></div>
                            </div>
                            <div id="donutChartPage" class="h-80"></div>
                        </div>

                        <!-- Area Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center justify-between mb-6">
                                <div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Graphique en Aire</h3><p class="text-sm text-gray-500">Tendance annuelle</p></div>
                            </div>
                            <div id="areaChartPage" class="h-80"></div>
                        </div>

                        <!-- Radial Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center justify-between mb-6">
                                <div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Graphique Radial</h3><p class="text-sm text-gray-500">Objectifs atteints</p></div>
                            </div>
                            <div id="radialChartPage" class="h-80"></div>
                        </div>

                        <!-- Mixed Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6">
                            <div class="flex items-center justify-between mb-6">
                                <div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Graphique Mixte</h3><p class="text-sm text-gray-500">Ligne et barres combinés</p></div>
                            </div>
                            <div id="mixedChartPage" class="h-80"></div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Footer -->
            <footer class="mt-auto border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
                <div class="max-w-7xl mx-auto px-4 lg:px-6 py-4"><div class="text-sm text-gray-500 text-center">© 2024 Nourriture Solidaire. Tous droits réservés.</div></div>
            </footer>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const isDark = document.documentElement.classList.contains('dark');
            const textColor = isDark ? '#9ca3af' : '#6b7280';
            const gridColor = isDark ? '#374151' : '#e5e7eb';

            // Line Chart
            new ApexCharts(document.querySelector('#lineChartPage'), {
                series: [{ name: 'Offres', data: [180, 220, 250, 280, 310, 350, 380] }, { name: 'Collectes', data: [150, 190, 220, 250, 280, 320, 350] }],
                chart: { type: 'line', height: 320, fontFamily: 'Inter, sans-serif', toolbar: { show: false }, background: 'transparent' },
                colors: ['#22c55e', '#3b82f6'],
                stroke: { curve: 'smooth', width: 3 },
                xaxis: { categories: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil'], labels: { style: { colors: textColor } } },
                yaxis: { labels: { style: { colors: textColor } } },
                grid: { borderColor: gridColor },
                legend: { labels: { colors: textColor } },
                tooltip: { theme: isDark ? 'dark' : 'light' }
            }).render();

            // Bar Chart
            new ApexCharts(document.querySelector('#barChartPage'), {
                series: [{ name: 'Collectes', data: [44, 55, 57, 56, 61, 58, 63] }, { name: 'Livraisons', data: [35, 41, 36, 26, 45, 48, 52] }],
                chart: { type: 'bar', height: 320, fontFamily: 'Inter, sans-serif', toolbar: { show: false }, background: 'transparent' },
                colors: ['#22c55e', '#3b82f6'],
                plotOptions: { bar: { horizontal: false, columnWidth: '55%', borderRadius: 4 } },
                xaxis: { categories: ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'], labels: { style: { colors: textColor } } },
                yaxis: { labels: { style: { colors: textColor } } },
                grid: { borderColor: gridColor },
                legend: { labels: { colors: textColor } },
                tooltip: { theme: isDark ? 'dark' : 'light' }
            }).render();

            // Donut Chart
            new ApexCharts(document.querySelector('#donutChartPage'), {
                series: [35, 25, 20, 12, 8],
                chart: { type: 'donut', height: 320, fontFamily: 'Inter, sans-serif', background: 'transparent' },
                colors: ['#22c55e', '#3b82f6', '#eab308', '#ef4444', '#8b5cf6'],
                labels: ['Fruits & Légumes', 'Boulangerie', 'Laiterie', 'Plats Préparés', 'Autres'],
                plotOptions: { pie: { donut: { size: '65%' } } },
                legend: { position: 'bottom', labels: { colors: textColor } },
                tooltip: { theme: isDark ? 'dark' : 'light' }
            }).render();

            // Area Chart
            new ApexCharts(document.querySelector('#areaChartPage'), {
                series: [{ name: 'Impact (tonnes)', data: [2.1, 3.2, 4.5, 5.8, 7.2, 8.9, 10.5, 11.8, 12.4, 13.2, 13.8, 14.2] }],
                chart: { type: 'area', height: 320, fontFamily: 'Inter, sans-serif', toolbar: { show: false }, background: 'transparent' },
                colors: ['#22c55e'],
                fill: { type: 'gradient', gradient: { shadeIntensity: 1, opacityFrom: 0.5, opacityTo: 0.1 } },
                stroke: { curve: 'smooth', width: 2 },
                xaxis: { categories: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Août', 'Sep', 'Oct', 'Nov', 'Déc'], labels: { style: { colors: textColor } } },
                yaxis: { labels: { style: { colors: textColor } } },
                grid: { borderColor: gridColor },
                tooltip: { theme: isDark ? 'dark' : 'light' }
            }).render();

            // Radial Chart
            new ApexCharts(document.querySelector('#radialChartPage'), {
                series: [75, 60, 85, 45],
                chart: { type: 'radialBar', height: 320, fontFamily: 'Inter, sans-serif', background: 'transparent' },
                colors: ['#22c55e', '#3b82f6', '#eab308', '#ef4444'],
                plotOptions: { radialBar: { dataLabels: { name: { fontSize: '14px', color: textColor }, value: { fontSize: '16px', color: textColor } }, track: { background: gridColor } } },
                labels: ['Collectes', 'Livraisons', 'Bénévoles', 'Points Relais'],
                legend: { show: true, position: 'bottom', labels: { colors: textColor } }
            }).render();

            // Mixed Chart
            new ApexCharts(document.querySelector('#mixedChartPage'), {
                series: [{ name: 'Offres', type: 'column', data: [440, 505, 414, 671, 227, 413, 201] }, { name: 'Tendance', type: 'line', data: [230, 320, 280, 450, 180, 350, 150] }],
                chart: { height: 320, type: 'line', fontFamily: 'Inter, sans-serif', toolbar: { show: false }, background: 'transparent' },
                colors: ['#22c55e', '#3b82f6'],
                stroke: { width: [0, 3] },
                plotOptions: { bar: { borderRadius: 4 } },
                xaxis: { categories: ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'], labels: { style: { colors: textColor } } },
                yaxis: { labels: { style: { colors: textColor } } },
                grid: { borderColor: gridColor },
                legend: { labels: { colors: textColor } },
                tooltip: { theme: isDark ? 'dark' : 'light' }
            }).render();
        });
    </script>
</body>
</html>
